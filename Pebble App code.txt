

#include <pebble.h>
 
Window* window;
TextLayer *text_layer;
 
void window_load(Window *window)
{
  text_layer = text_layer_create(GRect(0, 0, 144, 168));
  text_layer_set_background_color(text_layer, GColorClear);
  text_layer_set_text_color(text_layer, GColorBlack);

  layer_add_child(window_get_root_layer(window), (Layer*) text_layer);
  text_layer_set_text(text_layer, "Fat people are nice");
}
 
void window_unload(Window *window)
{
  text_layer_destroy(text_layer);
}
 
void init()
{
   window = window_create();
  window_set_window_handlers(window, (WindowHandlers) {
    .load = window_load,
    .unload = window_unload,
  });

  window_stack_push(window, true);
}
 
void deinit()
{
  window_destroy(window);
}
 
int main(void)
{
  init();
  app_event_loop();
  deinit();
}























/**
    * Resource initialisation handle function
    */
void handle_init(AppContextRef ctx) {
    (void)ctx;
 
    //Init window
    window_init(&window, "Main window");
    window_set_background_color(&window, GColorWhite);
     
    //Init ScrollLayer and attach button click provider
    scroll_layer_init(&sLayer, GRect(0, 0, 144, 168));
    scroll_layer_set_click_config_onto_window(&sLayer, &window);
     
    //Init TextLayer
    text_layer_init(&tLayer, GRect(0, 0, WIDTH, MAX_HEIGHT));
    text_layer_set_text(&tLayer, "Just wondering if a thing like this would work n the charge we are working on and the menu is the greatest thing there can be");
    text_layer_set_background_color(&tLayer, GColorClear);
    text_layer_set_text_color(&tLayer, GColorBlack);
    text_layer_set_text_alignment(&tLayer, GTextAlignmentLeft);
 
    //Get size used by TextLayer
    GSize max_size = text_layer_get_max_used_size(app_get_current_graphics_context(), &tLayer);
   
    //Use TextLayer size
    text_layer_set_size(&tLayer, max_size);
   
    //Use TextLayer size for ScrollLayer - this has to be done manually for now!
    scroll_layer_set_content_size(&sLayer, GSize(WIDTH, max_size.h + TOP_BAR_PADDING));
     
    //Add TextLayer to ScrollLayer to Window
    scroll_layer_add_child(&sLayer, &tLayer.layer);
    layer_add_child(&window.layer, (Layer*)&sLayer);
 
    //Show Window
    window_stack_push(&window, true);
}